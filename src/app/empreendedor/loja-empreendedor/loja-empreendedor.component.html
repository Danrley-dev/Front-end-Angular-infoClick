<main class="trancatela">

  <body [ngStyle]="{'background-color':loja.corDeFundo}">
    <div class="banner-loja">
      <img class="logo-loja" src="{{ loja.imagemLoja }}" />
      <div class="container-informacoes">
        <div class="container-nome-loja">
          <p class="nome-loja"><span>Nome: </span>{{ loja.nomeLoja }}</p>
          <p class="descricao-loja">
            <span>Descrição:</span> {{ loja.descricaoLoja }}
          </p>
          <p class="data-loja">
            <span>Desde: </span>{{ loja.dataCriacao }}
          </p>
        </div>
      </div>
    </div>
  </body>
  <h2 class="titulo">Todos os Produtos</h2>
  <section>
    <div class="menu" *ngIf="opGerencia">
      <button class="button-opcoes">
        <i class="bi bi-list menu-hamburguer"></i>GERENCIAR<i class="bi bi-caret-down-fill arrow"></i>
      </button>
      <ul class="lista-opcoes" *ngIf="opGerencia">
        <li class="adicionar">
          <a [routerLink]="['/produto-create']"><i class="bi bi-plus-circle"></i><span>ADICIONAR</span> PRODUTO</a>
        </li>
        <li class="editar">
          <a (click)="openDialog()"><i class="bi bi-pen"> </i> EDITAR LOJA</a>
        </li>
      </ul>
    </div>
  </section>
  <section>
    <div class="menu-mobile" *ngIf="opGerencia">
      <button class="button-opcoes-mobile">
        <i class="bi bi-list menu-hamburguer-mobile"></i>
      </button>
      <ul *ngIf="opGerencia" class="lista-opcoes-mobile">
        <li class="adicionar-mobile">
          <a [routerLink]="['/produto-create']"><i class="bi bi-plus-circle"></i> PRODUTO</a>
        </li>
        <li class="editar-mobile">
          <a (click)="openDialog()"><i class="bi bi-pen"> </i> EDITAR LOJA</a>
        </li>
      </ul>
    </div>
  </section>
  <section class="container-cards1">
    <div *ngFor="let itens of loja.produtos">
      <div class="card">
        <div class="promo">
          <a *ngIf="opGerencia" (click)="editarProduto(itens.id!)">
            <mat-icon class="inconEdit" style="font-size: 30px">edit</mat-icon>
          </a>
          <p class="porcent-promo">{{ itens.categoria }}</p>
          <a *ngIf="opGerencia" class="old" (click)="deletarProdutoModal(itens)"><i class="bi bi-trash"
              style="font-size: 25px;"></i></a>
        </div>
        <div class="details">
          <a routerLink="/produto-detail/{{ itens.id }}" class="img-wrap" data-abc="true">
            <img  src="{{ itens.produtoImagem }}" />
          </a>
          <p class="nome-produto">
            {{ itens.name }}
          </p>
          <p class="preco-corte">
            De: {{ itens.produtoAntigoValor | currency: "BRL" }}
          </p>
          <p class="preco-promo">
            Por: {{ itens.produtoValor | currency: "BRL" }}
          </p>
          <button (click)="addToCart(itens)" class="button-card" type="button">
            <a>ADICIONAR AO CARRINHO</a>
          </button>
        </div>
      </div>
    </div>
  </section>
  <ng-template #deleteModal>
    <div class="modal-body text-center">
      <p>Deseja deletar esse Produto?</p>
      <button type="button" class="btn btn-default" (click)="confirmaDelete()">Sim</button>
      <button type="button" class="btn btn-primary" (click)="naoDeletar()">Não</button>
    </div>
  </ng-template>
</main>
